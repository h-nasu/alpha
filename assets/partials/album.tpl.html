<div ng-controller="AlbumCtrl">
  <ul ng-repeat="album in albums">
    <li ng-show="album.cover_image">
      <img src="/file/download/?download_type=album_cover_image&album_id={{album.id}}" />
    </li>
    <li>
      {{album.name}}
    </li>
    <li>
      <button class="btn btn-primary" ng-init="showSongs = false" ng-click="showSongs = ! showSongs" ng-switch="showSongs">
        <span ng-switch-when="false">Show</span>
        <span ng-switch-when="true">Hide</span>
      </button>
    </li>
    <li>
      <div collapse="!showSongs">
        <!--<div ng-include src="'/partials/song.tpl.html'" ng-init="album_id = album.id"></div>-->
        <ul ng-repeat="song in album.songs">
          <li ng-show="song.file">
            <a href="/file/download/?download_type=song_file&song_id={{song.id}}" target="_blank">
            download
            </a>
          </li>
          <li>
            {{song.name}}
          </li>
          <li>
            <button class="btn btn-primary" ng-click="addPlayList(song, album)">
              Add List
            </button>
          </li>
        </ul>
      </div>
    </li>
  <ul>
</div>